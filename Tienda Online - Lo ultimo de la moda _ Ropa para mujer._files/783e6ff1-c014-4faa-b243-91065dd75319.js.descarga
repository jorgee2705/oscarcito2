/**handles:woocs-sd-selectron23**/
class Selectron23{constructor(t,e={}){if(this.data=e,this.scale=1,Selectron23.z_index=9999,this.el=document.createElement("div"),this.el.className="selectron23",this.element=t,this.element.style.zIndex=Selectron23.z_index,"select"===this.element.tagName.toLowerCase()?this.element.insertAdjacentElement("afterend",this.el):this.element.insertAdjacentElement("afterbegin",this.el),"select"===this.element.tagName.toLowerCase()){this.element.style.display="none",this.element.hasAttribute("style")&&this.element.style.width&&(this.data.width=this.element.style.width);let s=null;var e=this.element.querySelectorAll("option");if(0<e.length){var t=Boolean(this.data.fusion);let i=[];e.forEach(t=>{var e={value:t.value,title:t.textContent};t.hasAttribute("data-img")&&0<t.getAttribute("data-img").length&&(e.img=t.getAttribute("data-img")),t.hasAttribute("data-text")&&0<t.getAttribute("data-text").length&&(e.text=t.getAttribute("data-text")),i.push(e),t.hasAttribute("selected")&&(s=t.value)}),t&&this.data.options.forEach(e=>{i=i.map(t=>t=t.value.toString()===e.value.toString()?e:t)}),this.data.options=i,null!==s&&(this.data.selected=s)}0<Object.keys(this.element.dataset).length&&Object.keys(this.element.dataset).forEach(t=>{this.data[t]=this.element.dataset[t]})}return this.container=null,this.value=null,this.input=null,this._draw(),this.el.querySelector("*").addEventListener("click",t=>this._click(t)),document.addEventListener("click",t=>this.show(!1)),document.addEventListener("set_selectron23_value",t=>{let e=!1;(e="all"===t.detail.selects?!0:e)&&this.select(t.detail.value,!1)}),this}_draw(){var t;0<this.data.options.length&&(this.container=document.createElement("div"),this.container.className="selectron23-container",this.el.appendChild(this.container),this.container.setAttribute("data-opened",0),this.data.options.forEach(t=>{this.append(t)}),this.pointer=document.createElement("span"),this.pointer.setAttribute("data-pointer",1),this.container.appendChild(this.pointer)),void 0!==this.data.selected?this.select(this.data.selected):void 0!==this.data.label&&0<this.data.label.length?((t=document.createElement("div")).setAttribute("data-label",1),t.className="selectron23-option",t.innerHTML=`<div>${this.data.label}</div>`,this.container.insertAdjacentElement("afterbegin",t)):this.container.querySelector("div").setAttribute("data-selected",1),void 0!==this.data.width&&(this.el.style.flexBasis=this.el.style.width=this.data.width),void 0!==this.data.name&&(this.input=document.createElement("input"),this.input.setAttribute("type","hidden"),this.input.setAttribute("name",this.data.name),this.input.setAttribute("value",""),this.container.querySelector("div").hasAttribute("data-value")&&this.input.setAttribute("value",this.container.querySelector("div").getAttribute("data-value")),this.el.appendChild(this.input)),this._normalize_min_height()}append(t){var t;return!this.container.querySelector(`[data-value="${t.value}"]`)&&(t=this._create_option(t),this.container.appendChild(t),!0)}_create_option(e){var t=document.createElement("div");t.setAttribute("data-value",e.value),t.className="selectron23-option";let i="left",s=(void 0!==this.data.imgpos&&"right"===this.data.imgpos&&(i="right"),""),a=(e.title&&(s=`<div class="selectron23-option-title">${e.title}</div>`),""),l=(e.text&&(a=`<div class="selectron23-option-text">${e.text}</div>`),"");if(e.img){let t=0;a||(t="margin-top: -6px;"),l=`<img src='${e.img}' alt='' loading='lazy' class='selectron23-img' style="float: ${i}; ${t}" />`}if(t.innerHTML=`${l}<div>${s}${a}</div>`,void 0!==e.title_attributes&&0<Object.keys(e.title_attributes).length)for(var[o,r]of Object.entries(e.title_attributes))t.querySelector(".selectron23-option-title").setAttribute(o,r);return l&&(t.querySelector("img").style.maxHeight="38px"),t}select(i,t=!0){if(this.value===i)return!1;{if(!this.container.querySelector(`[data-value="${i}"]`))return;this.value=i,this._remove_label();let e=this.container.querySelector(`[data-value="${i}"]`);return e.setAttribute("data-selected",1),this.container.insertAdjacentElement("afterbegin",e),this.data.options.reverse().forEach(t=>{var t;t.value!==i&&(t=this.container.querySelector(`[data-value="${t.value}"]`),e.insertAdjacentElement("afterend",t),t.removeAttribute("data-selected"))}),this._normalize_min_height(),this.input&&(this.input.value=i),t&&this.onSelect(),!0}}_remove_label(){this.container.querySelector('[data-label="1"]')&&this.container.querySelector('[data-label="1"]').remove()}_click(t){let e=t.target;(e=e.hasAttribute("data-value")||e.hasAttribute("data-pointer")?e:e.closest(".selectron23-option"))?e.hasAttribute("data-pointer")||e.hasAttribute("data-label")||e.hasAttribute("data-selected")?1===parseInt(this.container.getAttribute("data-opened"))?this.show(!1):this.show(!0):(this.select(e.getAttribute("data-value")),this.show(!1),"select"===this.element.tagName.toLowerCase()&&(this.element.value=this.value,this.element.dispatchEvent(new Event("change")))):this.show(!1)}show(t,e="down"){if(t){if(!parseInt(this.container.getAttribute("data-opened"))){this.element.style.zIndex=this.container.style.zIndex=++Selectron23.z_index;let t=1,i=setInterval(()=>{let e=0;void 0!==this.data.max_open_height&&0<this.data.max_open_height?e=parseInt(this.data.max_open_height):this.container.querySelectorAll(".selectron23-option").forEach(function(t){e+=t.offsetHeight}),this.container.style.maxHeight=parseFloat(.05*t)*e+"px",parseInt(this.container.style.maxHeight)>=e&&(clearInterval(i),void 0!==this.data.max_open_height?(this.container.style.maxHeight=e+"px",this.container.style.overflow="auto"):this.container.style.maxHeight="100vh",this.container.setAttribute("data-opened",1),this.pointer.style.top=parseInt(this.pointer.style.top)+1+"px"),t++},10)}}else parseInt(this.container.getAttribute("data-opened"))&&(this.container.setAttribute("data-opened",0),this.pointer.style.top=parseInt(this.pointer.style.top)-1+"px",this._normalize_min_height(),this.container.style.maxHeight=this.container.style.minHeight,void 0!==this.container.style.overflow)&&(this.container.scrollTop=0,this.container.style.overflow=null)}_normalize_min_height(){let t=this.container.querySelector("div").clientHeight;0==t&&(t=35),this.container.style.minHeight=t+"px",this.el.style.height=parseInt(this.container.style.minHeight)+1+"px",this.pointer.style.top=parseInt(this.container.style.minHeight)/2-2+"px"}setWidth(t){this.el.style.flexBasis=this.el.style.width=this.element.style.width="100p"===t?"100%":t+"px"}setScale(t){var t=parseFloat(t/100);this.el.style.transform=`scale(${t})`}setDescriptionTextSize(e){this.el.querySelectorAll(".selectron23-option-text").forEach(t=>{t.style.fontSize=e+"px"}),this._normalize_min_height()}setTitleFontSize(e){this.el.querySelectorAll(".selectron23-option-title").forEach(t=>{t.style.fontSize=e+"px"}),this._normalize_min_height()}setTitleValue(e){this.el.querySelectorAll(".selectron23-option-title").forEach(t=>{0<e.length&&(t.innerText=e)})}setTitleFont(e){this.el.querySelectorAll(".selectron23-option-title").forEach(t=>{t.style.fontFamily=e}),this._normalize_min_height()}setDescriptionFont(e){this.el.querySelectorAll(".selectron23-option-text").forEach(t=>{t.style.fontFamily=e}),this._normalize_min_height()}setBorderRadius(t){var t=parseFloat(t/100);this.container.style.borderRadius=parseInt(this.container.style.minHeight)/2*t+"px"}showImg(e){this.el.querySelectorAll(".selectron23-img").forEach(t=>{t.style.display=e?"inline-block":"none"}),this._normalize_min_height()}setImgVPosition(e){this.el.querySelectorAll(".selectron23-img").forEach(t=>{t.style.marginTop=e+"px"}),this._normalize_min_height()}setImgHeight(e){this.el.querySelectorAll(".selectron23-img").forEach(t=>{t.style.height=e+"px",t.style.maxHeight=e+"px"}),this._normalize_min_height()}setImgSide(e){this.el.querySelectorAll(".selectron23-img").forEach(t=>{t.style.float=e?"right":"left"})}showDescription(e){this.el.querySelectorAll(".selectron23-option-text").forEach(t=>{t.style.display=e?"block":"none"}),this._normalize_min_height()}showTitle(e){this.el.querySelectorAll(".selectron23-option-title").forEach(t=>{t.style.display=e?"block":"none"}),this._normalize_min_height()}setBorderColor(t){this.container.style.borderColor=t}setDescriptionColor(e){this.el.querySelectorAll(".selectron23-option-text").forEach(t=>{t.style.color=e})}setTitleColor(e){this.el.querySelectorAll(".selectron23-option-title").forEach(t=>{t.style.color=e})}setTitleBold(e){this.el.querySelectorAll(".selectron23-option-title").forEach(t=>{t.style.fontWeight=e?"bold":"normal"}),this._normalize_min_height()}setBackgroundColor(e){this.el.querySelectorAll(".selectron23-option").forEach(t=>{t.style.background=e})}setPointerColor(t){this.pointer.style.color=t}setContainerBgColor(t){this.container.style.background=t}setDividerSize(e){this.el.querySelectorAll(".selectron23-option").forEach(t=>{t.style.marginBottom=e+"px"}),this._normalize_min_height()}setBorderWidth(t){this.container.style.borderWidth=t+"px"}setMaxOpenHeight(t){this.data.max_open_height=t,this._normalize_min_height()}applyDesignSettings(t){for(var[e,i]of Object.entries(t))switch(e){case"width":this.setWidth(i),t.width_p100&&this.setWidth("100p");break;case"img_pos":this.setImgSide(i);break;case"max_open_height":this.setMaxOpenHeight(i);break;case"show_img":this.showImg(i);break;case"scale":this.setScale(i);break;case"description_font_size":this.setDescriptionTextSize(i);break;case"title_show":this.showTitle(i);break;case"title_font_size":this.setTitleFontSize(i);break;case"title_color":this.setTitleColor(i);break;case"title_bold":this.setTitleBold(i);break;case"title_font":this.setTitleFont(i);break;case"title_value":this.setTitleValue(i);break;case"border_radius":this.setBorderRadius(i);break;case"border_color":this.setBorderColor(i);break;case"img_height":this.setImgHeight(i);break;case"img_vertival_pos":this.setImgVPosition(i);break;case"show_description":this.showDescription(i);break;case"description_color":this.setDescriptionColor(i);break;case"description_font":this.setDescriptionFont(i);break;case"background_color":this.setBackgroundColor(i);break;case"pointer_color":this.setPointerColor(i);break;case"divider_color":this.setContainerBgColor(i);break;case"divider_size":this.setDividerSize(i);break;case"border_width":this.setBorderWidth(i)}this._normalize_min_height()}onSelect(){}}