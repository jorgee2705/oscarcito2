/**handles:woocommerce-currency-switcher**/
var woocs_loading_first_time=!0,woocs_sumbit_currency_changing=!0;function woocs_redirect(e){if(woocs_sumbit_currency_changing){var r,o=(r=window.location.href).split("#"),r=o[0],c="",o=(1<o.length&&(c="#"+o[1]),r=(r=r.split("?"))[0],"?");if(woocs_array_of_get.currency=e,woocs_special_ajax_mode){var o="",t;jQuery.post(woocs_ajaxurl,{action:"woocs_set_currency_ajax",currency:e},function(e){location.reload()})}else{if(0<Object.keys(woocs_array_of_get).length){let c=[];jQuery.each(woocs_array_of_get,function(e,r){c.push(e+"="+r)}),o+=c.join("&")}window.location=r+o+c}}}function woocs_refresh_mini_cart(e){setTimeout(function(){try{$fragment_refresh={url:wc_cart_fragments_params.ajax_url,type:"POST",data:{action:"woocommerce_get_refreshed_fragments",woocs_woocommerce_before_mini_cart:"mini_cart_refreshing"},success:function(e){if(e&&e.fragments){jQuery.each(e.fragments,function(e,r){jQuery(e).replaceWith(r)});try{$supports_html5_storage&&(sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(e.fragments)),sessionStorage.setItem("wc_cart_hash",e.cart_hash))}catch(e){}jQuery("body").trigger("wc_fragments_refreshed")}}},jQuery.ajax($fragment_refresh);try{0<woocs_get_cookie("woocommerce_items_in_cart")?jQuery(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").show():jQuery(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").hide()}catch(e){}jQuery("body").on("adding_to_cart",function(){jQuery(".hide_cart_widget_if_empty").closest(".widget_shopping_cart").show()})}catch(e){}},e)}function woocs_get_cookie(e){var e=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}function woocs_auto_switcher_redraw(e,r){var c,o,o;switch(r.data("view")){case"classic_blocks":r.find("a").removeClass("woocs_curr_curr"),r.find('a[data-currency="'+e+'"]').addClass("woocs_curr_curr");break;case"roll_blocks":r.find("a").removeClass("woocs_curr_curr"),r.find("li").removeClass("woocs_auto_bg_woocs_curr_curr"),(o=r.find('a[data-currency="'+e+'"]')).addClass("woocs_curr_curr"),o.parents("li").addClass("woocs_auto_bg_woocs_curr_curr");break;case"round_select":r.find("a").removeClass("woocs_curr_curr"),(o=r.find('a[data-currency="'+e+'"]')).addClass("woocs_curr_curr"),jQuery(".woocs_current_text").html(o.find(".woocs_base_text").html())}}function woocs_remove_link_param(e,r){var c=r.split("?")[0],o,t=[],r=-1!==r.indexOf("?")?r.split("?")[1]:"";if(""!==r){for(var t,_=(t=r.split("&")).length-1;0<=_;--_)(o=t[_].split("=")[0])===e&&t.splice(_,1);c=c+"?"+t.join("&")}return c}function woocs_init_ddslick_select(){jQuery.each(jQuery("select.woocommerce-currency-switcher").not(".woocs_clean_select"),function(e,r){var c=jQuery(r).data("width"),o=jQuery(r).data("flag-position");jQuery(r).ddslick({width:c,imagePosition:o,selectText:"Select currency",onSelected:function(e){var r;woocs_loading_first_time||(r=jQuery(e.selectedItem).closest("form.woocommerce-currency-switcher-form"),jQuery(r).find('input[name="woocommerce-currency-switcher"]').eq(0).val(e.selectedData.value),Object.keys(woocs_array_of_get).length,woocs_redirect(e.selectedData.value))}})})}jQuery(function(e){if("undefined"!=typeof woocs_array_of_get){if(woocs_array_of_get=JSON.parse(woocs_array_of_get),0!==Object.keys(woocs_array_of_get).length&&"currency"in woocs_array_of_get&&(e("body.woocommerce-cart .shop_table.cart").closest("form").find('input[name="update_cart"]').prop("disabled",!1),e("body.woocommerce-cart .shop_table.cart").closest("form").find('input[name="update_cart"]').trigger("click")),0==Object.keys(woocs_array_of_get).length&&(woocs_array_of_get={}),woocs_array_no_cents=JSON.parse(woocs_array_no_cents),parseInt(woocs_get_cookie("woocommerce_items_in_cart"),10)||(e(".widget_shopping_cart_content").empty(),e(document.body).trigger("wc_fragment_refresh")),null==woocs_array_of_get.currency&&null==woocs_array_of_get.removed_item&&null==woocs_array_of_get.key||woocs_refresh_mini_cart(555),woocs_redraw_cart&&jQuery(document).on("adding_to_cart",function(){woocs_refresh_mini_cart(999)}),jQuery("body").on("click",".woocs_price_info",function(){return!1}),"chosen"==woocs_drop_down_view||"chosen_dark"==woocs_drop_down_view)try{jQuery("select.woocommerce-currency-switcher").not(".woocs_clean_select").length&&(jQuery("select.woocommerce-currency-switcher").not(".woocs_clean_select").chosen({disable_search_threshold:10}),jQuery.each(jQuery(".woocommerce-currency-switcher-form .chosen-container"),function(e,r){jQuery(r).css({width:jQuery(this).prev("select").data("width")})}))}catch(e){console.log(e)}if("ddslick"==woocs_drop_down_view)try{woocs_init_ddslick_select()}catch(e){console.log(e)}if(woocs_loading_first_time=!1,"wselect"==woocs_drop_down_view&&1!=woocs_is_mobile)try{jQuery("select.woocommerce-currency-switcher").not(".woocs_clean_select").wSelect({size:7})}catch(e){console.log(e)}jQuery(".woocs_flag_view_item").on("click",function(){if(woocs_sumbit_currency_changing){if(jQuery(this).hasClass("woocs_flag_view_item_current"))return!1;0==Object.keys(woocs_array_of_get).length?window.location=window.location.href+"?currency="+jQuery(this).data("currency"):woocs_redirect(jQuery(this).data("currency"))}return!1}),jQuery(".woocs_converter_shortcode").length&&jQuery(".woocs_converter_shortcode_button").on("click",function(){var e=jQuery(this).parent(".woocs_converter_shortcode").find(".woocs_converter_shortcode_amount").eq(0).val(),r=jQuery(this).parent(".woocs_converter_shortcode").find(".woocs_converter_shortcode_from").eq(0).val(),c=jQuery(this).parent(".woocs_converter_shortcode").find(".woocs_converter_shortcode_to").eq(0).val(),o=jQuery(this).parent(".woocs_converter_shortcode").find(".woocs_converter_shortcode_precision").eq(0).val(),t=jQuery(this).parent(".woocs_converter_shortcode").find(".woocs_converter_shortcode_results").eq(0),e=(jQuery(t).val(woocs_lang_loading+" ..."),{action:"woocs_convert_currency",amount:e,from:r,to:c,precision:o});return jQuery.post(woocs_ajaxurl,e,function(e){jQuery(t).val(e)}),!1}),jQuery(".woocs_rates_shortcode").length&&jQuery("body").on("change",".woocs_rates_current_currency",function(){var r=this,e={action:"woocs_rates_current_currency",current_currency:jQuery(this).val(),precision:jQuery(this).data("precision"),exclude:jQuery(this).data("exclude")};return jQuery.post(woocs_ajaxurl,e,function(e){jQuery(r).parent(".woocs_rates_shortcode").html(e)}),!1}),"undefined"!=typeof woocs_shop_is_cached&&woocs_shop_is_cached&&setTimeout(function(){if(woocs_sumbit_currency_changing=!1,void 0===woocs_array_of_get.currency){jQuery("body").hasClass("single");var t=[],e,c=(jQuery.each(jQuery(".woocs_amount_custom_price"),function(e,r){var c=jQuery(r).data("decimals"),o=jQuery(r).data("value"),r=jQuery(r).data("currency");t.push({decimals:c,value:o,currency:r})}),0!=t.length&&(e={action:"woocs_get_custom_price_html",custom_prices:t,current_currency:woocs_current_currency.name},jQuery.post(woocs_ajaxurl,e,function(e){e=JSON.parse(e),jQuery.isEmptyObject(e)||jQuery.each(e,function(e,r){jQuery(".woocs_amount_custom_price[data-value='"+e+"']").replaceWith(r)})})),[]),o=jQuery("form.variations_form").data("product_variations"),r,_=(void 0!==o&&(jQuery.each(o,function(e,r){c.push(r.variation_id)}),0!=c.length)&&(r={action:"woocs_get_variation_products_price_html",var_products_ids:c,current_currency:woocs_current_currency.name},jQuery.post(woocs_ajaxurl,r,function(c){c=JSON.parse(c),jQuery.isEmptyObject(c)||(jQuery.each(o,function(e,r){void 0!==c[r.variation_id]&&(o[e].price_html=c[r.variation_id])}),jQuery("form.variations_form").data("product_variations",o))})),{}),s={};if(jQuery.each(jQuery(".woocs_price_code"),function(e,r){_[jQuery(r).data("redraw-id")]=jQuery(r).data("product-id"),jQuery(r).data("currency")&&(s[jQuery(r).data("redraw-id")]=jQuery(r).data("currency"))}),0===Object.keys(_).length)return void(woocs_sumbit_currency_changing=!0);var e={action:"woocs_get_products_price_html",products_ids:_,products_currency:s,current_currency:woocs_current_currency.name};jQuery.post(woocs_ajaxurl,e,function(c){if(c=JSON.parse(c),jQuery.isEmptyObject(c)&&(woocs_sumbit_currency_changing=!0),!jQuery.isEmptyObject(c)){if(jQuery(".woocs_price_info").remove(),jQuery(".woocs_price_approx.woocs_cart_item_price").remove(),jQuery.each(jQuery(".woocs_price_code"),function(e,r){null!=c.ids[jQuery(r).data("redraw-id")]&&jQuery(r).replaceWith(c.ids[jQuery(r).data("redraw-id")])}),jQuery(".woocs_price_code").removeClass("woocs_preloader_ajax"),jQuery(".woocommerce-currency-switcher").val(c.current_currency),"chosen"==woocs_drop_down_view||"chosen_dark"==woocs_drop_down_view)try{jQuery("select.woocommerce-currency-switcher").not(".woocs_clean_select").length&&(jQuery("select.woocommerce-currency-switcher").not(".woocs_clean_select").chosen({disable_search_threshold:10}),jQuery("select.woocommerce-currency-switcher").trigger("chosen:updated"))}catch(e){console.log(e)}var e,r;if(void 0!==c.currency_data&&(woocs_current_currency=c.currency_data,e=jQuery(".price_slider_amount #min_price").val(),void 0!==(r=jQuery(".price_slider_amount #max_price").val()))&&void 0!==e&&(r=woocs_convert_price_slider(r),e=woocs_convert_price_slider(e),jQuery(document.body).trigger("price_slider_create",[e,r])),"ddslick"==woocs_drop_down_view)try{jQuery("div.dd-container").ddslick("destroy"),jQuery("select.woocommerce-currency-switcher").not(".woocs_clean_select").val(c.current_currency),woocs_init_ddslick_select()}catch(e){console.log(e)}if("wselect"==woocs_drop_down_view&&1!=woocs_is_mobile)try{jQuery("select.woocommerce-currency-switcher").not(".woocs_clean_select").val(c.current_currency).trigger("change")}catch(e){console.log(e)}var e=jQuery(".woocs_auto_switcher"),r=(0<e.length&&woocs_auto_switcher_redraw(c.current_currency,e),woocs_sumbit_currency_changing=!0,jQuery("strong.woocs_current_currency_code"));r.length&&r.text(c.current_currency),document.dispatchEvent(new CustomEvent("after_woocs_get_products_price_html",{detail:{current_currency:c.current_currency}}))}})}else woocs_sumbit_currency_changing=!0;jQuery(".single_variation_wrap").on("show_variation",function(e,r){jQuery(".woocs_price_code").removeClass("woocs_preloader_ajax")}),jQuery(".woocs_price_code").removeClass("woocs_preloader_ajax")},300),setTimeout(function(){},300)}}),jQuery(function(){jQuery(".woocs_auto_switcher_link").on("click",function(){return woocs_redirect(jQuery(this).data("currency")),!1}),jQuery(".woocs_auto_switcher li").on("click",function(e){return woocs_redirect(jQuery(this).find("a.woocs_auto_switcher_link").data("currency")),!1})});